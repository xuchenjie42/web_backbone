'use strict';

(function() {
  var argv = require('yargs').argv;

  require('define')(require);

  var Base = require('./task');

  var Scheme = Base.extend({
    constructor: function(/*gulp, plugins, options*/) {
      ['build', 'clean', 'package', 'run'].forEach(function(task) {
        if(argv[task] && !this.tasks[task]) {
          this.tasks[task] = {};
        }
      }.bind(this));

      process.env.scheme = this.name;

      Base.apply(this, arguments);
    }
  });

  module.exports = Scheme;
})();
