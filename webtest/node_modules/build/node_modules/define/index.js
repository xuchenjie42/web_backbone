'use strict';

module.exports = function(require, options) {
	var r = typeof options === 'undefined' ? require : function(path) {
		for(var key in options.alias) {
			path = path.replace(new RegExp(key), options.alias[key]);
		}
		
		return require(path);
	};
	
	return (global.define = function(f) {
		return f.call(global, r);
	});
};