'use strict';

var Path = require('./util/path');

var TargetPath = Path.extend({
  abs: function() {
    this.root = process.cwd();
    return Path.prototype.abs.apply(this, arguments);
  }
});

var SchemePath = TargetPath.extend({
  public: function() {
    return this.append('public');
  }
});

var paths = {
  self: {
    root: function() {
      return new Path();
    },
    src: function() {
      return new Path('src');
    },
    task: function() {
      return this.src().append('task');
    },
    template: function() {
      return this.src().append('template');
    }
  },
  target: {
    root: function() {
      return new TargetPath();
    },
    build: function() {
      return new TargetPath('build');
    },
    res: function() {
      return new TargetPath('res');
    },
    scheme: function(name) {
      return new SchemePath('build').append(name);
    },
    task: function() {
      return this.build().append('task');
    }
  }
};

module.exports = paths;